(this["webpackJsonpblogging-app-using-mern"]=this["webpackJsonpblogging-app-using-mern"]||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/asset-1.171cd5d9.png"},20:function(e,t){e.exports="data:image/jpeg;base64,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"},39:function(e,t,a){e.exports=a(85)},45:function(e,t,a){},46:function(e,t,a){},64:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a.n(n),s=a(35),l=a(0),i=a.n(l),o=a(36),c=a.n(o),m=(a(45),a(10)),u=(a(46),a(4)),d=a(3),h=a(2),p=a.n(h),g=a(15),A=a(1),b=a(6),E=a(7),v=a(9),f=a(8),N=function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t},j=RegExp(/\S+@\S+\.\S+/),O=(a(64),Object(l.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}})),P=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"text-center spinner"},i.a.createElement("div",{className:"spinner-border",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading...")),i.a.createElement("h4",null," Please Wait ..."))}}]),a}(l.Component),y=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).mySubmitHandler=function(e){n.setState((function(e){return{isloading:!0}}));var t=n.context;e.preventDefault(),N(n.state.errors),n.state.isLoginMode?p.a.post("/user/login",n.state.user).then((function(e){return n.setState((function(e){return{isloading:!1}})),n.props.history.push("/"),t.login(e.data.userId,e.data.token),p.a.get("/profile/viewprofile")})).then((function(e){var t=e.data.profile.username;localStorage.setItem("profileData",JSON.stringify({username:t}))})).catch((function(e){n.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},n.state.error),{},{message:e.response.data.message,code:e.response.status})})})):(n.setState((function(e){return{isloading:!0}})),p.a.post("/user/signup",n.state.user).then((function(e){n.setState((function(e){return{isloading:!1}}))})).catch((function(e){n.setState({error:!0})}))),n.setState({user:Object(A.a)(Object(A.a)({},n.state.user),{},{email:"",password:""})})},n.myChangeHandler=function(e){var t=e.target.name,a=e.target.value,r=n.state.errors,s=e.target,l=s.name,i=s.value;switch(l){case"email":if(0===i.length){r.email=i.length<5?"Email is Required!":"";break}if(i.length>0){r.email=j.test(i)?"":"Email is not valid!";break}break;case"password":i.length>0&&(r.password=i.length<6?"Password must be 6 characters long!":""),0===i.length&&(r.password=0===i.length?"Password is required!":"")}n.setState({errors:r,user:Object(A.a)(Object(A.a)({},n.state.user),{},Object(g.a)({},t,a))},(function(){}))},n.switchLoginhandler=function(){n.setState((function(e){return{isLoginMode:!e.isLoginMode}}))},n.state={user:{email:"",password:""},error:{message:"",code:""},isloading:!1,isLoginMode:!0,errors:{email:"",password:""}},n}return Object(E.a)(a,[{key:"render",value:function(){var e,t;return this.state.isloading&&(e=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container loading"},i.a.createElement("div",{className:"mar-20"},i.a.createElement(P,null))))),this.state.error.code&&(t=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container error container-short"},i.a.createElement("div",{className:"mar-20"},i.a.createElement("h5",null,"Error Code - ",this.state.error.code),i.a.createElement("h4",null,"Error Message - ",this.state.error.message))))),i.a.createElement(i.a.Fragment,null,e,t,i.a.createElement("div",{className:"container container-short py-5"},i.a.createElement("h1",{className:"pt-2 py-2"},this.state.isLoginMode?"Login ":"Sign Up"),i.a.createElement("hr",null),i.a.createElement("form",{onSubmit:this.mySubmitHandler,className:"pt-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"email"},"Email "),i.a.createElement("input",{type:"email",name:"email",value:this.state.user.email,className:"form-control "+(this.state.errors.email?"is-invalid":""),placeholder:"Enter your email",required:!0,onChange:this.myChangeHandler}),this.state.errors.email.length>0&&i.a.createElement("div",{className:"mt-1"},i.a.createElement("span",{className:"error text-danger"},this.state.errors.email))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"password"},"Password "),i.a.createElement("input",{type:"password",name:"password",value:this.state.user.password,className:"form-control "+(this.state.errors.password?"is-invalid":""),placeholder:"Enter your Password",required:"required","data-error":"Please enter your full name.",onChange:this.myChangeHandler}),this.state.errors.password.length>0&&i.a.createElement("div",{className:"mt-1"}," ",i.a.createElement("span",{className:"error text-danger"},this.state.errors.password))),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{style:{marginRight:"15px"},type:"submit",className:"btn btn-primary",disabled:this.state.user.email&&this.state.user.password&&N(this.state.errors)?"":"disabled"},this.state.isLoginMode?"Login":"Sign Up"),i.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.switchLoginhandler},"Switch to ",this.state.isLoginMode?"Sign Up":"Login"," ")))))}}]),a}(l.Component);y.contextType=O;var S=Object(u.h)(y),k=(a(70),function(e){return i.a.createElement("div",{className:"backdrop",onClick:e.onClick})}),w=(a(71),function(e){return i.a.createElement("header",{className:"main-header"},e.children)}),x=(a(72),function(e){var t=Object(u.g)(),a=Object(l.useContext)(O);return i.a.createElement("ul",{className:"nav-links"},i.a.createElement("li",null,i.a.createElement(d.c,{to:"/",exact:!0},"Home")),a.isLoggedIn&&i.a.createElement(i.a.Fragment,null," ",i.a.createElement("li",null,i.a.createElement(d.c,{to:"/profile"},"Profile")),i.a.createElement("li",null,i.a.createElement(d.c,{to:"/mypost"},"My Post")),i.a.createElement("li",null,i.a.createElement(d.c,{to:"/create"},"Create Post"))),!a.isLoggedIn&&i.a.createElement("li",null,i.a.createElement(d.c,{to:"/auth"},"Login/Register")),a.isLoggedIn&&i.a.createElement("li",null,i.a.createElement("button",{onClick:function(){console.log(t),a.logout(),t.push("/auth")}},"Logout")))}),L=(a(73),function(e){return i.a.createElement("aside",{className:"side-drawer",onClick:e.closed},e.children)}),W=(a(74),a(19)),H=a.n(W);var T=function(){return i.a.createElement("div",{className:"mobile-only"},i.a.createElement("div",{className:"footer-icons"},i.a.createElement("ul",{className:"navbar-nav "},i.a.createElement("li",{className:"nav-item inline-block"},i.a.createElement("a",{href:"https://github.com/mehulk05","aria-label":"Github",className:"nav-link text-github"},i.a.createElement("i",{className:"fa fa-github"}))),i.a.createElement("li",{className:"nav-item inline-block"},i.a.createElement("a",{href:"https://medium.com/@mehulkothari05","aria-label":"Medium",className:"nav-link"},i.a.createElement("span",null,i.a.createElement("img",{className:"img-circle medium-icon",width:"24",alt:"",src:"https://seeklogo.com/images/M/medium-logo-93CDCF6451-seeklogo.com.png"})))),i.a.createElement("li",{className:"nav-item inline-block"},i.a.createElement("a",{href:"https://www.instagram.com/mehul_kothari05/","aria-label":"Insagram",className:"nav-link"},i.a.createElement("i",{className:"fa fa-instagram"}))),i.a.createElement("li",{className:"nav-item inline-block"},i.a.createElement("a",{href:"https://www.linkedin.com/in/mehul-kothari-765868126/","aria-label":"LinkedIn",className:"nav-link"},i.a.createElement("i",{className:"fa fa-linkedin"}))))))},D=function(e){var t=["SideDrawer","Close"],a=Object(l.useState)(!1),n=Object(m.a)(a,2),r=n[0],s=n[1];r&&(t=["SideDrawer","Open"]);var o=function(){s(!1)};return i.a.createElement(i.a.Fragment,null,r&&i.a.createElement(k,{onClick:o}),i.a.createElement("div",{className:t.join(" ")},i.a.createElement(L,{open:r,closed:o},i.a.createElement("h3",{className:"text-left mt-2 pl-4"},"BlogBook"),i.a.createElement("hr",null),i.a.createElement("nav",{className:"main-navigation__drawer-nav"},i.a.createElement("img",{src:H.a,alt:"logo"}),i.a.createElement("div",{className:"mobile"},i.a.createElement(T,null)),i.a.createElement(x,null)))),i.a.createElement(w,null,i.a.createElement("button",{className:"main-navigation__menu-btn",onClick:function(){s(!0)}},i.a.createElement("span",null),i.a.createElement("span",null),i.a.createElement("span",null)),i.a.createElement("h1",{className:"main-navigation__title"},i.a.createElement(d.b,{to:"/"},"Blog Book")),i.a.createElement("nav",{className:"main-navigation__header-nav"},i.a.createElement(x,null))))};function M(e){var t=document.createElement("div");return t.innerHTML=e,e=t.innerText}a(75);var U=a(20),F=a.n(U);var C=function(e){var t,a,n=Object(l.useState)(e),r=Object(m.a)(n,2),s=r[0],o=r[1],c=Object(l.useState)(!1),h=Object(m.a)(c,2),g=h[0],b=h[1],E=Object(l.useState)(),v=Object(m.a)(E,2),f=v[0],N=(v[1],Object(l.useState)()),j=Object(m.a)(N,2),O=j[0],y=(j[1],Object(u.g)().location.pathname);return Object(l.useEffect)((function(){b(!0),p.a.get("/profile/bycreator/"+e.creator).then((function(t){b(!1),o(Object(A.a)(Object(A.a)({},e),{},{user:t.data.profile}))})).catch((function(e){b(!1)}))}),[e]),i.a.createElement(i.a.Fragment,null,O?i.a.createElement("div",{className:"container error container-short"},i.a.createElement("div",{className:"mar-20"},i.a.createElement("h5",null,"Error Code - ",O),i.a.createElement("h4",null,"Error Message - ",f))):null,g?i.a.createElement("div",{className:"container loading"},i.a.createElement("div",{className:"mar-20"},i.a.createElement(P,null))):null,i.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12 showblog mb-3"},i.a.createElement("div",{className:"showblog_card card"},i.a.createElement("div",{className:"showblog_card_image",style:{backgroundImage:"url(".concat(e.imagePath,")")}},i.a.createElement("div",{className:"show_auth_img"},i.a.createElement(d.b,{to:"/public/"+(null===(t=s.user)||void 0===t?void 0:t.username),style:{backgroundImage:"url(".concat((null===(a=s.user)||void 0===a?void 0:a.imagePath)?s.user.imagePath:F.a,")")}},"By Mehul"))),i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title pt-3"},"/mypost"===y?i.a.createElement(d.b,{to:"/mypost/"+e._id,className:"title"},e.title):i.a.createElement(d.b,{to:"/post/"+e._id,className:"title"},e.title)),i.a.createElement("p",{className:"showblog_content"},"".concat(M(e.content.substring(0,80)),"..."),i.a.createElement("span",null," ",i.a.createElement("b",null,"Read More")))))))};a(76);var R=function(e){return i.a.createElement("div",{className:"featured-user"},i.a.createElement("ul",{className:"list-unstyled"},i.a.createElement("li",null,i.a.createElement(d.b,{className:"d-flex align-items-center",to:"/public/"+e.username},i.a.createElement("img",{src:e.imagePath,className:"img-fluid mr-2",alt:e.username})),i.a.createElement("div",{className:"podcaster"},i.a.createElement(d.b,{to:"/public/"+e.username},i.a.createElement("span",{className:"d-block username"},e.username),i.a.createElement("span",{className:"small"},"".concat(M(e.bio.substring(0,80)),"...")))))))},B=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={posts:[],users:[],isloading:!1},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(e){return{isloading:!0}})),Promise.all([p.a.get("/posts"),p.a.get("/profile/profiles")]).then((function(t){e.setState((function(e){return{isloading:!1}})),e.setState(Object(A.a)(Object(A.a)({},e.state.posts),{},{posts:t[0].data.posts})),e.setState(Object(A.a)(Object(A.a)({},e.state.users),{},{users:t[1].data.profile}))})).catch((function(t){e.setState((function(e){return{isloading:!1}}))}))}},{key:"render",value:function(){var e,t,a;return this.state.isloading&&(e=i.a.createElement(P,null)),this.state.posts&&(t=this.state.posts.map((function(e,t){return i.a.createElement(C,Object.assign({key:t},e,t))}))),this.state.users&&(a=this.state.users.map((function(e,t){return i.a.createElement(R,Object.assign({key:t},e,t))}))),i.a.createElement("div",null,i.a.createElement("div",{className:"container hero"},i.a.createElement("div",{className:"row align-items-center text-center text-md-left"},i.a.createElement("div",{className:"col-lg-4"},i.a.createElement("h1",{className:"mb-3 display-3"},"Tell Your Story to the World"),i.a.createElement("p",null,"Join with us! Login or Register. Write your story and share !!")),i.a.createElement("div",{className:"col-lg-8"},i.a.createElement("img",{src:H.a,className:"img-fluid",alt:"img"})))),i.a.createElement("div",{className:"container hero py-5"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-8 col-xs-12"},i.a.createElement("div",{className:"row"},t)),i.a.createElement("div",{className:"col-md-4 col-xs-12 pl-4"},i.a.createElement("h3",{className:"mb-4"}," Popular Writers"),i.a.createElement("hr",null),a))),i.a.createElement("div",{className:"container loading"},e))}}]),a}(l.Component),V=(a(77),a(38)),q=a.n(V),Z=function(e){e.handleClose;var t=e.show,a=e.children,n=t?"modal display-block":"modal display-none";return i.a.createElement("div",{className:n},i.a.createElement("section",{className:"modal-main"},i.a.createElement("div",{className:"modal-dailog"},i.a.createElement("div",{className:"modal-content"},a))))},I=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).showModal=function(){n.setState({show:!0})},n.hideModal=function(){n.setState({show:!1})},n.deletePost=function(e){n.setState((function(e){return{isloading:!0}})),p.a.delete("/posts/"+e).then((function(e){n.setState((function(e){return{isloading:!1}})),n.props.history.push("/mypost")})).catch((function(e){n.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},n.state.error),{},{message:e.response.data.message,code:e.response.status})})}))},n.state={singlePost:{},error:{message:"",code:""},isloading:!1,show:!1},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(e){return{isloading:!0}}));var t=this.props.match.params.id;p.a.get("/posts/"+t).then((function(t){return e.setState(Object(A.a)(Object(A.a)({},e.state.singlePost),{},{singlePost:t.data,isloading:!1})),p.a.get("/profile/bycreator/"+t.data.creator)})).then((function(t){e.setState(Object(A.a)(Object(A.a)({},e.state.singlePost),{},{user:t.data.profile,isloading:!1}))})).catch((function(t){e.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},e.state.error),{},{message:t.response.data.message,code:t.response.status})})}))}},{key:"render",value:function(){var e,t,a,n=this;this.state.isloading&&(e=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container loading"},i.a.createElement("div",{className:"mar-20"},i.a.createElement(P,null))))),this.state.error.code&&(t=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container error container-short"},i.a.createElement("div",{className:"mar-20"},i.a.createElement("h5",null,"Error Code - ",this.state.error.code),i.a.createElement("h4",null,"Error Message - ",this.state.error.message)))));var r=this.state.singlePost,s=this.state.user;return this.state.singlePost&&(a=i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,r.title),i.a.createElement("div",{className:"SingleBlog_avatar"},i.a.createElement(d.b,{to:"/public/"+(null===s||void 0===s?void 0:s.username),rel:"noopener noreferrer"},i.a.createElement("img",{src:(null===s||void 0===s?void 0:s.imagePath)?s.imagePath:F.a,alt:"img",width:"75",height:"75"})),i.a.createElement(d.b,{to:"/public/"+(null===s||void 0===s?void 0:s.username),rel:"noopener noreferrer"},i.a.createElement("p",null,null===s||void 0===s?void 0:s.username)),i.a.createElement("p",null,q()(r.postDate).format("MMM DD, YYYY hh:mm"))),i.a.createElement("div",{className:"singlePost_content pt-3"},i.a.createElement("img",{src:r.imagePath,className:"img-fluid",alt:"prof"}),i.a.createElement("div",{className:"text pt-3"},i.a.createElement("p",null,r.content))))),i.a.createElement(i.a.Fragment,null,e,t,i.a.createElement("div",{className:"container py-4 SingleBlog "},i.a.createElement("div",{className:"row"},"/mypost/:id"===this.props.match.path&&i.a.createElement("div",{className:"col-md-3 col-xs-12 "},i.a.createElement("div",{className:"list-group"},i.a.createElement(d.b,{to:"/edit/"+r._id,className:"list-group-item list-group-item-action"},"Edit"),i.a.createElement("button",{type:"button",onClick:this.showModal,className:"list-group-item list-group-item-action"},"Delete"))),i.a.createElement("div",{className:"col-md-9 col-xs-12 main"},i.a.createElement(Z,{show:this.state.show,handleClose:this.hideModal},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h2",null,r.title),i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:this.hideModal},"\xd7")),i.a.createElement("div",{className:"modal-body"},"Confirm delete"),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return n.deletePost(r._id)}},"Delete "),i.a.createElement("button",{type:"button",className:"btn btn-outline-dark",onClick:this.hideModal,"data-dismiss":"modal"},"Close"))),a))))}}]),a}(l.Component),X=a(16),K=(a(79),function(e){var t=Object(l.useState)(),a=Object(m.a)(t,2),n=a[0],r=a[1],s=Object(l.useState)(),o=Object(m.a)(s,2),c=o[0],u=o[1],d=Object(l.useState)(!1),h=Object(m.a)(d,2),p=h[0],g=h[1],A=Object(l.useRef)();Object(l.useEffect)((function(){if(n){var e=new FileReader;e.onload=function(){u(e.result)},e.readAsDataURL(n)}}),[n]);return i.a.createElement("div",{className:""},i.a.createElement("input",{id:e.id,name:e.name,ref:A,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var a,s=p;return t.target.files&&1===t.target.files.length?(a=t.target.files[0],r(a),g(!0),s=!0):(g(!1),s=!1),e.onInput(e.id,a,s),n}}),i.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},i.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){A.current.click()}},"PICK IMAGE"),c&&i.a.createElement("div",{className:"image-upload__preview"},i.a.createElement("img",{src:c,alt:"Preview"})),!c&&e.value&&i.a.createElement("div",{className:"image-upload__preview"},i.a.createElement("img",{src:e.value,alt:"Preview"}))),!p&&i.a.createElement("p",null,e.errorText))}),z=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).imageHandler=function(e,t,a){n.setState({Post:Object(A.a)(Object(A.a)({},n.state.Post),{},Object(g.a)({},e,t))},(function(){}))},n.myChangeHandler=function(e){var t,a,r=null===(t=e.target)||void 0===t?void 0:t.name,s=null===(a=e.target)||void 0===a?void 0:a.value,l=n.state.errors,i=e.target,o=i.name,c=i.value;switch(o){case"title":c.length>0&&(l.title=c.length<6?"Title   must be 5 characters long!":""),0===c.length&&(l.title=0===c.length?"title is required!":"");break;case"content":c.length>0&&(l.content=c.length<20?"Content  must be 20 characters long!":""),0===c.length&&(l.content=0===c.length?"Content is required!":"");break;case"imagePath":0===c.length&&(l.imagePath=0===c.length?"Image is required!":"")}n.setState(Object(A.a)(Object(A.a)({},l),{},{Post:Object(A.a)(Object(A.a)({},n.state.Post),{},Object(g.a)({},r,s))}),(function(){}))},n.state={Post:{id:"",title:"",content:"",imagePath:"",created:""},error:{message:"",code:""},isloading:!1,haserror:!1,errors:{title:"",content:"",imagePath:""}},n.mySubmitHandler=n.mySubmitHandler.bind(Object(X.a)(n)),n.myChangeHandler=n.myChangeHandler.bind(Object(X.a)(n)),n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.path,a=this.props.match.params.id;JSON.parse(localStorage.getItem("profileData"))||"/create"!=t||this.props.history.push("/createProfile"),"/edit/:id"===t&&(this.setState((function(e){return{isloading:!0}})),p.a.get("/posts/"+a).then((function(t){var a=t.data;e.setState({isloading:!1,Post:Object(A.a)(Object(A.a)({},e.state.Post),{},{id:a._id,title:a.title,content:a.content,imagePath:a.imagePath})})})).catch((function(t){e.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},e.state.error),{},{message:t.response.data.message,code:t.response.status})})}))),console.log(this.state)}},{key:"mySubmitHandler",value:function(e){var t=this;this.setState((function(e){return{isloading:!0}}));var a,n=this.props.match.path,r=this.props.match.params.id,s=new Date;e.preventDefault(),"object"===typeof this.state.Post.imagePath?((a=new FormData).append("id",this.state.Post.id),a.append("title",this.state.Post.title),a.append("content",this.state.Post.content),a.append("image",this.state.Post.imagePath,this.state.Post.title),a.append("postDate",s.toString())):a={id:this.state.Post.id,title:this.state.Post.title,content:this.state.Post.content,image:this.state.Post.imagePath,postDate:s.toString()},"/edit/:id"===n?p.a.put("/posts/"+r,a).then((function(e){t.setState((function(e){return{isloading:!1}})),t.props.history.push("/")})).catch((function(e){t.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})})):p.a.post("/posts",a).then((function(e){t.setState((function(e){return{isloading:!1}})),t.props.history.push("/")})).catch((function(e){t.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})})),this.setState({Post:Object(A.a)(Object(A.a)({},this.state.Post),{},{title:"",content:"",imagePath:""})})}},{key:"render",value:function(){var e,t;return this.state.isloading&&(e=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container loading"},i.a.createElement("div",{className:"mar-20"},i.a.createElement(P,null))))),this.state.error.code&&(t=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container error container-short"},i.a.createElement("div",{className:"mar-20"},i.a.createElement("h5",null,"Error Code - ",this.state.error.code),i.a.createElement("h4",null,"Error Message - ",this.state.error.message))))),i.a.createElement(i.a.Fragment,null,e,t,i.a.createElement("div",{className:"container container-short"},i.a.createElement("form",{onSubmit:this.mySubmitHandler,className:"pt-4"},i.a.createElement("h3",{className:"text-center mb-3"},"Create Post"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"title"},"Title "),i.a.createElement("input",{type:"title",name:"title",value:this.state.Post.title,className:"form-control "+(this.state.errors.title?"is-invalid":""),placeholder:"Enter the title",required:!0,onChange:this.myChangeHandler}),this.state.errors.title.length>0&&i.a.createElement("div",{className:"mt-1"},i.a.createElement("span",{className:"error text-danger"},this.state.errors.title))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"password"},"Description "),i.a.createElement("textarea",{type:"text",name:"content",rows:"4",value:this.state.Post.content,className:"form-control "+(this.state.errors.content?"is-invalid":""),placeholder:"Enter the  description",required:"required",onChange:this.myChangeHandler}),this.state.errors.content.length>0&&i.a.createElement("div",{className:"mt-1"},i.a.createElement("span",{className:"error text-danger"},this.state.errors.content))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"password"},"Image "),i.a.createElement(K,{id:"imagePath",name:"imagePath",onInput:this.imageHandler,value:this.state.Post.imagePath,errorText:"Please provide an image."}),this.state.errors.imagePath.length>0&&i.a.createElement("div",{className:"mt-1"},i.a.createElement("span",{className:"error text-danger"},this.state.errors.imagePath))),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{style:{marginRight:"15px"},type:"submit",className:"btn btn-primary",disabled:this.state.Post.title&&this.state.Post.content&&this.state.Post.imagePath?"":"disabled"},"Submit")))))}}]),a}(l.Component),G=(a(80),function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={user:{},posts:[],isloading:!1,error:{message:"",code:""}},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.match.path,n=this.props.match.params.id;(this.setState((function(e){return{isloading:!0}})),JSON.parse(localStorage.getItem("profileData"))||"/profile"!==a||this.props.history.push("/createProfile"),n)?p.a.get("/profile/"+n).then((function(e){return t.setState(Object(A.a)(Object(A.a)({},t.state.user),{},{user:e.data.profile,isloading:!1})),p.a.get("/profile/"+n+"/mypost")})).then((function(e){t.setState(Object(A.a)(Object(A.a)({},t.state.posts),{},{posts:e.data.post,isloading:!1}))})).catch((function(e){t.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})})):p.a.get("/profile/viewprofile").then((function(a){e=a.data.profile.username,t.setState(Object(A.a)(Object(A.a)({},t.state.user),{},{user:a.data.profile,isloading:!1})),p.a.get("/profile/"+e+"/mypost").then((function(e){t.setState(Object(A.a)(Object(A.a)({},t.state.posts),{},{posts:e.data.post,isloading:!1}))}))})).catch((function(e){t.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})}))}},{key:"render",value:function(){var e,t,a,n=JSON.parse(localStorage.getItem("profileData")),r=this.props.match.path;this.state.isloading&&(e=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container loading"},i.a.createElement("div",{className:"mar-20"},i.a.createElement(P,null))))),this.state.error.code&&(t=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container error container-short"},i.a.createElement("div",{className:"mar-20"},i.a.createElement("h5",null,"Error Code - ",this.state.error.code),i.a.createElement("h4",null,"Error Message - ",this.state.error.message))))),this.state.posts&&(a=this.state.posts.map((function(e,t){return i.a.createElement(C,Object.assign({key:t},e,t))})));var s=this.state.user;return i.a.createElement(i.a.Fragment,null,e,t,i.a.createElement("div",{className:"container py-5 container-short"},i.a.createElement("div",{className:"row profile"},i.a.createElement("div",{className:"col-md-8 col-xs-12 order-2 order-lg-1"},i.a.createElement("h2",{className:"text-black font-weight-light mb-4"},s.username),n||"/profile"===r?i.a.createElement(d.b,{to:"/profile/edit/"+s._id},"Edit Profile"):null,i.a.createElement("p",null,s.bio)),i.a.createElement("div",{className:"col-md-4 col-xs-12 order-1 order-lg-2"},i.a.createElement("img",{className:"img-fluid w-50 rounded-circle mb-3",src:s.imagePath,alt:s.username})))),i.a.createElement("div",{className:"container py-5 container-short"},i.a.createElement("h2",{className:"font-weight-light text-black"},s.username,"'s Posts"),i.a.createElement("hr",null),0===this.state.posts.length?i.a.createElement("h2",{className:"mt-5 text-center"},"No Posts Found"):null,i.a.createElement("div",{className:"row"},a)))}}]),a}(l.Component)),J=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={posts:[],error:{message:"",code:""},isloading:!1},n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState((function(e){return{isloading:!0}})),p.a.get("/posts/mypost").then((function(t){e.setState(Object(A.a)(Object(A.a)({},e.state.posts),{},{posts:t.data.posts,isloading:!1}))})).catch((function(t){e.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},e.state.error),{},{message:t.response.data.message,code:t.response.status})})}))}},{key:"render",value:function(){var e,t,a;return this.state.isloading&&(e=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container loading"},i.a.createElement("div",{className:"mar-20"},i.a.createElement(P,null))))),this.state.error.code&&(t=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container error container-short"},i.a.createElement("div",{className:"mar-20"},i.a.createElement("h5",null,"Error Code - ",this.state.error.code),i.a.createElement("h4",null,"Error Message - ",this.state.error.message))))),this.state.posts&&(a=this.state.posts.map((function(e,t){return i.a.createElement(C,Object.assign({key:t},e,t))}))),i.a.createElement(i.a.Fragment,null,e,t,i.a.createElement("div",{className:"container hero py-5"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12 col-xs-12"},0===this.state.posts.length?i.a.createElement("h2",{className:"text-center"},"No Posts Found"):null,i.a.createElement("div",{className:"row"},a)))))}}]),a}(l.Component),Y=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).imageHandler=function(e,t,a){n.setState({Post:Object(A.a)(Object(A.a)({},n.state.Post),{},Object(g.a)({},e,t))},(function(){}))},n.myChangeHandler=function(e){var t,a,r=null===(t=e.target)||void 0===t?void 0:t.name,s=null===(a=e.target)||void 0===a?void 0:a.value,l=n.state.errors,i=e.target,o=i.name,c=i.value;switch(o){case"username":c.length>0&&(l.username=c.length<6?"Title   must be 5 characters long!":""),0===c.length&&(l.username=0===c.length?"username is required!":"");break;case"bio":c.length>0&&(l.bio=c.length<20?"Content  must be 20 characters long!":""),0===c.length&&(l.bio=0===c.length?"Content is required!":"");break;case"imagePath":0===c.length&&(l.imagePath=0===c.length?"Image is required!":"")}n.setState(Object(A.a)(Object(A.a)({},l),{},{Post:Object(A.a)(Object(A.a)({},n.state.Post),{},Object(g.a)({},r,s))}),(function(){}))},n.state={Post:{id:"",username:"",bio:"",imagePath:"",created:""},error:{message:"",code:""},isloading:!1,haserror:!1,errors:{username:"",bio:"",imagePath:""}},n.mySubmitHandler=n.mySubmitHandler.bind(Object(X.a)(n)),n.myChangeHandler=n.myChangeHandler.bind(Object(X.a)(n)),n}return Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.path;this.props.match.params.id;"/profile/edit/:id"===t&&(this.setState((function(e){return{isloading:!0}})),p.a.get("/profile/viewprofile").then((function(t){var a=t.data.profile;e.setState({isloading:!1,Post:Object(A.a)(Object(A.a)({},e.state.Post),{},{id:a._id,username:a.username,bio:a.bio,imagePath:a.imagePath})})})).catch((function(t){e.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},e.state.error),{},{message:t.response.data.message,code:t.response.status})})})))}},{key:"mySubmitHandler",value:function(e){var t=this;this.setState((function(e){return{isloading:!0}}));var a,n=this.props.match.path,r=this.props.match.params.id;e.preventDefault(),"object"===typeof this.state.Post.imagePath?((a=new FormData).append("id",this.state.Post.id),a.append("username",this.state.Post.username),a.append("bio",this.state.Post.bio),a.append("image",this.state.Post.imagePath,this.state.Post.username)):a={id:this.state.Post.id,username:this.state.Post.username,bio:this.state.Post.bio,image:this.state.Post.imagePath},"/profile/edit/:id"===n?p.a.put("/profile/edit/"+r,a).then((function(e){t.setState((function(e){return{isloading:!1}})),t.props.history.push("/profile")})).catch((function(e){t.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})})):p.a.post("/profile/create",a).then((function(e){t.setState((function(e){return{isloading:!0}}));var a=e.data.profile.username;localStorage.setItem("profileData",JSON.stringify({username:a})),t.props.history.push("/")})).catch((function(e){t.setState({isloading:!1,error:Object(A.a)(Object(A.a)({},t.state.error),{},{message:e.response.data.message,code:e.response.status})})})),this.setState({Post:Object(A.a)(Object(A.a)({},this.state.Post),{},{username:"",bio:"",imagePath:""})})}},{key:"render",value:function(){var e,t;return this.state.isloading&&(e=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container loading"},i.a.createElement("div",{className:"mar-20"},i.a.createElement(P,null))))),this.state.error.code&&(t=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container error container-short"},i.a.createElement("div",{className:"mar-20"},i.a.createElement("h5",null,"Error Code - ",this.state.error.code),i.a.createElement("h4",null,"Error Message - ",this.state.error.message))))),i.a.createElement(i.a.Fragment,null,e,t,i.a.createElement("div",{className:"container container-short"},i.a.createElement("form",{onSubmit:this.mySubmitHandler,className:"pt-4"},i.a.createElement("h3",{className:"text-center mb-3"},"Create Profile"),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"username"},"Username "),i.a.createElement("input",{type:"username",name:"username",value:this.state.Post.username,className:"form-control "+(this.state.errors.username?"is-invalid":""),placeholder:"Enter the username",required:!0,onChange:this.myChangeHandler}),this.state.errors.username.length>0&&i.a.createElement("div",{className:"mt-1"},i.a.createElement("span",{className:"error text-danger"},this.state.errors.username))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"password"},"Password "),i.a.createElement("textarea",{type:"text",name:"bio",rows:"4",value:this.state.Post.bio,className:"form-control "+(this.state.errors.bio?"is-invalid":""),placeholder:"Enter the  description",required:"required",onChange:this.myChangeHandler}),this.state.errors.bio.length>0&&i.a.createElement("div",{className:"mt-1"},i.a.createElement("span",{className:"error text-danger"},this.state.errors.bio))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{htmlFor:"password"},"Image "),i.a.createElement(K,{id:"imagePath",name:"imagePath",onInput:this.imageHandler,value:this.state.Post.imagePath,errorText:"Please provide an image."}),this.state.errors.imagePath.length>0&&i.a.createElement("div",{className:"mt-1"},i.a.createElement("span",{className:"error text-danger"},this.state.errors.imagePath))),i.a.createElement("div",{className:"form-group"},i.a.createElement("button",{style:{marginRight:"15px"},type:"submit",className:"btn btn-primary",disabled:this.state.Post.username&&this.state.Post.bio&&this.state.Post.imagePath?"":"disabled"},"Create Profile")))))}}]),a}(l.Component);a(81);var Q=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("footer",{className:"fadeInUp col-md-12"},i.a.createElement("a",{href:"https://github.com/mehulk05/Blogapp-using-MERN",className:"button github"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i.a.createElement("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})),i.a.createElement("span",null,"Open Sourced on GitHub")),i.a.createElement("a",{href:"https://medium.com/@mehulkothari05/medium-blogs-on-your-react-app-a3898a729aad",className:"button btn-light medium"},i.a.createElement("span",null,i.a.createElement("img",{className:"img-circle",width:"20",alt:"",src:"https://seeklogo.com/images/M/medium-logo-93CDCF6451-seeklogo.com.png"}),"Read about this Project On MEDIUM")),i.a.createElement(T,null)),i.a.createElement("h5",{className:"text-center copyright"}," \xa9 Copyrights reserved by Mehul Kothari"))};a(82);var _,$=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"footer-icon-sidebar"},i.a.createElement("ul",{className:"navbar-nav"},i.a.createElement("li",{className:"nav-item inline-block"},i.a.createElement("a",{href:"https://github.com/mehulk05","aria-label":"Github",className:"nav-link text-github"},i.a.createElement("i",{className:"fa fa-github"}))),i.a.createElement("li",{className:"nav-item inline-block"},i.a.createElement("a",{href:"https://medium.com/@mehulkothari05","aria-label":"Medium",className:"nav-link"},i.a.createElement("span",null,i.a.createElement("img",{className:"img-circle medium-icon",width:"24",alt:"",src:"https://seeklogo.com/images/M/medium-logo-93CDCF6451-seeklogo.com.png"})))),i.a.createElement("li",{className:"nav-item inline-block"},i.a.createElement("a",{href:"https://www.instagram.com/mehul_kothari05/","aria-label":"Insagram",className:"nav-link"},i.a.createElement("i",{className:"fa fa-instagram"}))),i.a.createElement("li",{className:"nav-item inline-block"},i.a.createElement("a",{href:"https://www.linkedin.com/in/mehul-kothari-765868126/","aria-label":"LinkedIn",className:"nav-link"},i.a.createElement("i",{className:"fa fa-linkedin"}))))))},ee=function(e){var t,a,n=Object(l.useState)(!1),r=Object(m.a)(n,2),s=r[0],o=r[1],c=Object(l.useState)(),h=Object(m.a)(c,2),g=h[0],A=h[1],b=Object(l.useState)(!1),E=Object(m.a)(b,2),v=E[0],f=E[1],N=Object(l.useState)(!0),j=Object(m.a)(N,2),y=j[0],k=j[1],w=Object(l.useCallback)((function(e,t,a){o(t),f(e),k(!1);var n=a||new Date((new Date).getTime()+36e5);A(n),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:n.toISOString()})),p.a.defaults.headers.common.Authorization="Bearer ".concat(t)}),[]),x=Object(l.useCallback)((function(){o(null),A(null),f(null),localStorage.removeItem("userData"),localStorage.removeItem("profileData");p.a.defaults.headers.common.Authorization="Bearer ".concat(null)}),[]);return Object(l.useEffect)((function(){if(s&&g){var e=g.getTime()-(new Date).getTime();_=setTimeout(x,e)}else clearTimeout(_)}),[s,x,g]),Object(l.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));k(!1),e&&e.token&&new Date(e.expiration)>new Date&&w(e.userId,e.token,new Date(e.expiration))}),[w]),y?a=i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container loading"},i.a.createElement("div",{className:"mar-20"},i.a.createElement(P,null)))):t=i.a.createElement(i.a.Fragment,null,s?i.a.createElement(u.b,{path:"/create",exact:!0,component:z}):i.a.createElement(u.a,{to:"/auth"}),s?i.a.createElement(u.b,{path:"/createProfile",exact:!0,component:Y}):i.a.createElement(u.a,{to:"/auth"}),s?i.a.createElement(u.b,{path:"/edit/:id",exact:!0,component:z}):i.a.createElement(u.a,{to:"/auth"}),s?i.a.createElement(u.b,{path:"/mypost",exact:!0,component:J}):i.a.createElement(u.a,{to:"/auth"}),s?i.a.createElement(u.b,{path:"/mypost/:id",exact:!0,component:I}):i.a.createElement(u.a,{to:"/auth"}),s?i.a.createElement(u.b,{path:"/profile",exact:!0,component:G}):i.a.createElement(u.a,{to:"/auth"}),s?i.a.createElement(u.b,{path:"/profile/edit/:id",component:Y}):i.a.createElement(u.a,{to:"/auth"})),i.a.createElement(O.Provider,{value:{isLoggedIn:!!s,token:s,userId:v,login:w,logout:x}},i.a.createElement("div",{className:"App"},i.a.createElement("main",null,i.a.createElement(d.a,null,i.a.createElement(D,null),i.a.createElement(u.d,null,i.a.createElement(u.b,{path:"/post/:id",exact:!0,component:I}),i.a.createElement(u.b,{path:"/public/:id",component:G}),i.a.createElement(u.b,{path:"/auth",component:S,exact:!0}),i.a.createElement(u.b,{path:"/",component:B,exact:!0}),t)),i.a.createElement($,null),i.a.createElement(Q,null)),a))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(83),a(84);setInterval(Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.a.get("http://zany-periodic-fisherman.glitch.me/test").then((function(e){console.log(e)})).catch((function(e){console.log(e.response)}));case 1:case"end":return e.stop()}}),e)}))),6e4),p.a.defaults.baseURL="http://zany-periodic-fisherman.glitch.me/api";var te,ae=JSON.parse(localStorage.getItem("userData"));ae&&(te=ae.token),p.a.defaults.headers.common.Authorization="Bearer ".concat(te),p.a.defaults.headers.post["Content-Type"]="application/json",p.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),p.a.interceptors.response.use((function(e){return e}),(function(e){return console.log(e.response),Promise.reject(e)})),c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.9841358d.chunk.js.map